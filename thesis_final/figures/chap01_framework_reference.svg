<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600" width="800" height="600">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#E67E22"/>
    </marker>
  </defs>

  <!-- 背景 -->
  <rect width="800" height="600" fill="#FAFAFA"/>

  <!-- ========== 第一层：理论基础 ========== -->
  <text x="45" y="55" font-family="SimHei, Arial" font-size="14" fill="#333" font-weight="bold">理论基础</text>

  <rect x="150" y="30" width="500" height="50" rx="8" fill="#1E3A5F" stroke="#1E3A5F" stroke-width="2"/>
  <text x="400" y="60" font-family="SimHei, Arial" font-size="16" fill="white" text-anchor="middle" font-weight="bold">物理约束的时空图神经网络建模范式（第二章）</text>

  <!-- ========== 第二层：科学问题与挑战 ========== -->
  <text x="45" y="145" font-family="SimHei, Arial" font-size="14" fill="#333" font-weight="bold">科学问题</text>
  <text x="45" y="165" font-family="SimHei, Arial" font-size="14" fill="#333" font-weight="bold">与挑战</text>

  <!-- 问题1：预测 - 绿色 -->
  <rect x="150" y="110" width="160" height="100" rx="6" fill="#27AE60" stroke="#1E8449" stroke-width="2"/>
  <text x="230" y="135" font-family="SimHei, Arial" font-size="14" fill="white" text-anchor="middle" font-weight="bold">问题1：预测</text>
  <line x1="170" y1="145" x2="290" y2="145" stroke="white" stroke-width="1" opacity="0.5"/>
  <text x="230" y="165" font-family="SimHei, Arial" font-size="11" fill="white" text-anchor="middle">时空协同预测</text>
  <text x="230" y="185" font-family="SimHei, Arial" font-size="10" fill="#D5F5E3" text-anchor="middle">挑战：风场方向性</text>
  <text x="230" y="200" font-family="SimHei, Arial" font-size="10" fill="#D5F5E3" text-anchor="middle">+ 物理一致性</text>

  <!-- 问题2：推断 - 黄色 -->
  <rect x="320" y="110" width="160" height="100" rx="6" fill="#F39C12" stroke="#D68910" stroke-width="2"/>
  <text x="400" y="135" font-family="SimHei, Arial" font-size="14" fill="white" text-anchor="middle" font-weight="bold">问题2：推断</text>
  <line x1="340" y1="145" x2="460" y2="145" stroke="white" stroke-width="1" opacity="0.5"/>
  <text x="400" y="165" font-family="SimHei, Arial" font-size="11" fill="white" text-anchor="middle">全域浓度场重建</text>
  <text x="400" y="185" font-family="SimHei, Arial" font-size="10" fill="#FEF9E7" text-anchor="middle">挑战：AOD非随机缺失</text>
  <text x="400" y="200" font-family="SimHei, Arial" font-size="10" fill="#FEF9E7" text-anchor="middle">+ 归纳式泛化</text>

  <!-- 问题3：模拟 - 橙红色 -->
  <rect x="490" y="110" width="160" height="100" rx="6" fill="#E74C3C" stroke="#C0392B" stroke-width="2"/>
  <text x="570" y="135" font-family="SimHei, Arial" font-size="14" fill="white" text-anchor="middle" font-weight="bold">问题3：模拟</text>
  <line x1="510" y1="145" x2="630" y2="145" stroke="white" stroke-width="1" opacity="0.5"/>
  <text x="570" y="165" font-family="SimHei, Arial" font-size="11" fill="white" text-anchor="middle">长期空气质量模拟</text>
  <text x="570" y="185" font-family="SimHei, Arial" font-size="10" fill="#FADBD8" text-anchor="middle">挑战：误差累积</text>
  <text x="570" y="200" font-family="SimHei, Arial" font-size="10" fill="#FADBD8" text-anchor="middle">+ 排放响应建模</text>

  <!-- 问题间的连接标注 -->
  <text x="285" y="160" font-family="SimHei, Arial" font-size="10" fill="#666">→</text>
  <text x="455" y="160" font-family="SimHei, Arial" font-size="10" fill="#666">→</text>

  <!-- ========== 维度迁移标注 ========== -->
  <text x="275" y="225" font-family="SimHei, Arial" font-size="9" fill="#E67E22" font-style="italic">时间→空间</text>
  <text x="445" y="225" font-family="SimHei, Arial" font-size="9" fill="#E67E22" font-style="italic">当前→未来</text>

  <!-- ========== 第三层：方法与创新点 ========== -->
  <text x="45" y="295" font-family="SimHei, Arial" font-size="14" fill="#333" font-weight="bold">方法与</text>
  <text x="45" y="315" font-family="SimHei, Arial" font-size="14" fill="#333" font-weight="bold">创新点</text>

  <!-- 从问题到方法的箭头 -->
  <line x1="230" y1="210" x2="230" y2="260" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="210" x2="400" y2="260" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <line x1="570" y1="210" x2="570" y2="260" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- 方法1：PM2.5-GNN + PCDCNet -->
  <rect x="150" y="265" width="160" height="90" rx="6" fill="white" stroke="#27AE60" stroke-width="2"/>
  <text x="230" y="290" font-family="SimHei, Arial" font-size="13" fill="#27AE60" text-anchor="middle" font-weight="bold">PM₂.₅-GNN、PCDCNet</text>
  <line x1="165" y1="300" x2="295" y2="300" stroke="#27AE60" stroke-width="1" opacity="0.3"/>
  <text x="230" y="318" font-family="SimHei, Arial" font-size="10" fill="#333" text-anchor="middle">风场有向图</text>
  <text x="230" y="335" font-family="SimHei, Arial" font-size="10" fill="#333" text-anchor="middle">+ DIC质量守恒</text>
  <text x="230" y="350" font-family="SimHei, Arial" font-size="9" fill="#888" text-anchor="middle">（第三章）</text>

  <!-- 方法2：SPIN -->
  <rect x="320" y="265" width="160" height="90" rx="6" fill="white" stroke="#F39C12" stroke-width="2"/>
  <text x="400" y="290" font-family="SimHei, Arial" font-size="13" fill="#F39C12" text-anchor="middle" font-weight="bold">SPIN</text>
  <line x1="335" y1="300" x2="465" y2="300" stroke="#F39C12" stroke-width="1" opacity="0.3"/>
  <text x="400" y="318" font-family="SimHei, Arial" font-size="10" fill="#333" text-anchor="middle">扩散-平流双核</text>
  <text x="400" y="335" font-family="SimHei, Arial" font-size="10" fill="#333" text-anchor="middle">+ AOD梯度约束</text>
  <text x="400" y="350" font-family="SimHei, Arial" font-size="9" fill="#888" text-anchor="middle">（第四章）</text>

  <!-- 方法3：IGNN -->
  <rect x="490" y="265" width="160" height="90" rx="6" fill="white" stroke="#E74C3C" stroke-width="2"/>
  <text x="570" y="290" font-family="SimHei, Arial" font-size="13" fill="#E74C3C" text-anchor="middle" font-weight="bold">IGNN</text>
  <line x1="505" y1="300" x2="635" y2="300" stroke="#E74C3C" stroke-width="1" opacity="0.3"/>
  <text x="570" y="318" font-family="SimHei, Arial" font-size="10" fill="#333" text-anchor="middle">一对一映射</text>
  <text x="570" y="335" font-family="SimHei, Arial" font-size="10" fill="#333" text-anchor="middle">+ 排放响应学习</text>
  <text x="570" y="350" font-family="SimHei, Arial" font-size="9" fill="#888" text-anchor="middle">（第五章）</text>

  <!-- ========== 橙色创新点标注 ========== -->
  <rect x="155" y="358" width="150" height="18" rx="3" fill="#FFF3E0"/>
  <text x="230" y="371" font-family="SimHei, Arial" font-size="9" fill="#E67E22" text-anchor="middle">🔸 平流系数 + LID-STD-TAD</text>

  <rect x="325" y="358" width="150" height="18" rx="3" fill="#FFF3E0"/>
  <text x="400" y="371" font-family="SimHei, Arial" font-size="9" fill="#E67E22" text-anchor="middle">🔸 动态掩码 + 梯度解耦</text>

  <rect x="495" y="358" width="150" height="18" rx="3" fill="#FFF3E0"/>
  <text x="570" y="371" font-family="SimHei, Arial" font-size="9" fill="#E67E22" text-anchor="middle">🔸 非自回归 + 域迁移</text>

  <!-- ========== 第四层：工程落地 ========== -->
  <text x="45" y="445" font-family="SimHei, Arial" font-size="14" fill="#333" font-weight="bold">工程落地</text>

  <!-- 从方法到系统的箭头 -->
  <line x1="230" y1="380" x2="230" y2="410" stroke="#666" stroke-width="1.5"/>
  <line x1="400" y1="380" x2="400" y2="410" stroke="#666" stroke-width="1.5"/>
  <line x1="570" y1="380" x2="570" y2="410" stroke="#666" stroke-width="1.5"/>
  <line x1="230" y1="410" x2="570" y2="410" stroke="#666" stroke-width="1.5"/>
  <line x1="400" y1="410" x2="400" y2="425" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <rect x="200" y="430" width="400" height="50" rx="8" fill="#34495E" stroke="#2C3E50" stroke-width="2"/>
  <text x="400" y="455" font-family="SimHei, Arial" font-size="15" fill="white" text-anchor="middle" font-weight="bold">KnowAir 大气污染智能预报系统</text>
  <text x="400" y="472" font-family="SimHei, Arial" font-size="11" fill="#BDC3C7" text-anchor="middle">（第六章）</text>

  <!-- ========== 输入输出符号（右侧标注） ========== -->
  <rect x="665" y="110" width="120" height="100" rx="4" fill="#F8F9FA" stroke="#DEE2E6" stroke-width="1"/>
  <text x="725" y="130" font-family="SimHei, Arial" font-size="10" fill="#666" text-anchor="middle" font-weight="bold">输入-输出范式</text>
  <line x1="675" y1="138" x2="775" y2="138" stroke="#DEE2E6" stroke-width="1"/>
  <text x="725" y="158" font-family="Courier New" font-size="9" fill="#27AE60" text-anchor="middle">(X,M,E)→X̂_future</text>
  <text x="725" y="178" font-family="Courier New" font-size="9" fill="#F39C12" text-anchor="middle">(X_obs,M,E)→X̂_target</text>
  <text x="725" y="198" font-family="Courier New" font-size="9" fill="#E74C3C" text-anchor="middle">(M,E)_fut→X̂_fut</text>

  <!-- ========== 图注区域 ========== -->
  <rect x="50" y="510" width="700" height="70" rx="4" fill="#F5F5F5" stroke="#E0E0E0" stroke-width="1"/>
  <text x="400" y="530" font-family="SimHei, Arial" font-size="12" fill="#333" text-anchor="middle" font-weight="bold">图 1  本文研究框架</text>
  <text x="400" y="550" font-family="SimHei, Arial" font-size="10" fill="#666" text-anchor="middle">框架涵盖四个层次：第二章建立统一方法论（蓝色）；第三至五章针对预测、推断、模拟三类问题</text>
  <text x="400" y="568" font-family="SimHei, Arial" font-size="10" fill="#666" text-anchor="middle">提出定制化模型（绿/黄/红色），各模型共享"编码→隐空间动力学→解码"架构；第六章完成工程落地。</text>

</svg>
